'use strict';exports.__esModule=true;var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _react=require('react');var _react2=_interopRequireDefault(_react);var _TextFieldGroup=require('../common/TextFieldGroup');var _TextFieldGroup2=_interopRequireDefault(_TextFieldGroup);var _reactRedux=require('react-redux');var _axios=require('axios');var _axios2=_interopRequireDefault(_axios);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var LoginForm=function(_React$Component){(0,_inherits3.default)(LoginForm,_React$Component);function LoginForm(props){(0,_classCallCheck3.default)(this,LoginForm);var _this=(0,_possibleConstructorReturn3.default)(this,_React$Component.call(this,props));_this.state={identifier:'',password:'',errors:{},isLoading:false};_this.onSubmit=_this.onSubmit.bind(_this);_this.onChange=_this.onChange.bind(_this);_this.login=_this.login.bind(_this);return _this;}LoginForm.prototype.onSubmit=function onSubmit(e){var _this2=this;e.preventDefault();this.login(this.state).then(function(res){return _this2.context.router.push('/');});};LoginForm.prototype.onChange=function onChange(e){var _setState;this.setState((_setState={},_setState[e.target.name]=e.target.value,_setState));};LoginForm.prototype.login=function login(data){return _axios2.default.post('/api/auth',data);};LoginForm.prototype.render=function render(){var _state=this.state,errors=_state.errors,identifier=_state.identifier,password=_state.password,isLoading=_state.isLoading;return _react2.default.createElement('div',{className:'login jumbotron center-block'},_react2.default.createElement('form',{onSubmit:this.onSubmit},_react2.default.createElement(_TextFieldGroup2.default,{field:'identifier',label:'Username / Email',value:identifier,error:errors.identifier,onChange:this.onChange}),_react2.default.createElement(_TextFieldGroup2.default,{field:'password',label:'Username / Email',value:password,error:errors.password,onChange:this.onChange,type:'password'}),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('button',{className:'btn btn-primary btn-lg',disabled:isLoading},'Login'))));};return LoginForm;}(_react2.default.Component);var _default=LoginForm;exports.default=_default;;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(LoginForm,'LoginForm','src/components/login/loginForm.js');__REACT_HOT_LOADER__.register(_default,'default','src/components/login/loginForm.js');}();;